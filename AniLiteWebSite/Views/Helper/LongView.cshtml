@model AniLiteWebSite.Models.ViewDetails

@{
    Layout = null;
}

<td class="row">
    <div class="col-md-2 col-sm-2">
        <a href="@Url.Action("Details","Product", new { id = @Model.ProductId })" class="img-thumbnail">
            <img src="@Model.AvatarURI" style="max-height:64px;max-width:64px">
        </a>
        </div>
        <div class="col-md-10 col-sm-10">
            <b>[@Model.Year] @Model.Names.First()</b>@foreach (var name in Model.Names.Skip(1))
            {
                @(", " + name)
            }
            <br />
            @Model.Reminder
        </div>
</td>

<td class="table-td-middle">
    <div class="row">
        <div class="col-md-3 col-sm-3">
            <a href="@Model.FromURI"><img style="max-height:64px;max-width:64px" src="@Model.PosterFromURI" alt="Источник информации" /></a>
        </div>
        @if (Model.ViewId == 0)
        {
            <div class="col-md-3 col-sm-3">
                <font size="5" color="red"> 0/@Model.MaxEpisode </font>
            </div>
            <div class="col-md-6 col-sm-6">
                <a href="@Url.Action("ViewAdd", "Helper", new { Id = Model.ProductId })" class="btn btn-success">
                    <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Смотреть
                </a>
                <a href="/Product/Details/1" class="btn btn-info btn-lg"><span class="glyphicon glyphicon-info-sign"></span></a>
            </div>
        }
        else
        {
            if (Model.CurrentEpisode >= Model.MaxEpisode)
            {
                <div class="col-md-3 col-sm-3">
                    <font size="5" color="green"> @Model.CurrentEpisode/@Model.MaxEpisode </font>
                </div>
                <div class="col-md-6 col-sm-6">
                    <a href="@Url.Action("ViewUpdate", "Helper", new { Id = Model.ViewId,Value = -1 })" class="btn btn-danger"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></a>
                    <a href="/Product/Details/1" class="btn btn-info"><span class="glyphicon glyphicon-info-sign"></span></a>
                    <a href="#" class="btn btn-warning"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                    <a href="#" class="btn btn-default"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                    <a href="@Url.Action("ViewSetStar", "Helper", new { Id = Model.ViewId })" class="btn @(Model.Star ? "btn-info" : "btn-default")"><span class="glyphicon @(Model.Star ? "glyphicon-star" : "glyphicon-star-empty")"></span> </a>
                </div>
            }
            else if (Model.CurrentEpisode != 0)
            {
                <div class="col-md-3 col-sm-3">
                    <font size="5" color="blue"> @Model.CurrentEpisode/@Model.MaxEpisode </font>
                </div>
                <div class="col-md-6 col-sm-6">
                    <a href="@Url.Action("ViewUpdate", "Helper", new { Id = Model.ViewId,Value = -1 })" class="btn btn-danger"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></a>
                    <a href="/Product/Details/1" class="btn btn-info"><span class="glyphicon glyphicon-info-sign"></span></a>
                    <a href="#" class="btn btn-warning"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                    <a href="@Url.Action("ViewUpdate", "Helper", new { Id = Model.ViewId, Value = +1 })" class="btn btn-success"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                    <a href="@Url.Action("ViewSetStar", "Helper", new { Id = Model.ViewId })" class="btn @(Model.Star ? "btn-info" : "btn-default")"><span class="glyphicon @(Model.Star ? "glyphicon-star" : "glyphicon-star-empty")"></span> </a>
                </div>
            }
            else
            {
                <div class="col-md-3 col-sm-3">
                    <font size="5" color="blue"> @Model.CurrentEpisode/@Model.MaxEpisode </font>
                </div>
                <div class="col-md-6 col-sm-6">
                    <a href="#" class="btn btn-default"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></a>
                    <a href="/Product/Details/1" class="btn btn-info"><span class="glyphicon glyphicon-info-sign"></span></a>
                    <a href="#" class="btn btn-warning"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                    <a href="@Url.Action("ViewUpdate", "Helper", new { Id = Model.ViewId, Value = +1 })" class="btn btn-success"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                    <a href="@Url.Action("ViewSetStar", "Helper", new { Id = Model.ViewId })" class="btn @(Model.Star ? "btn-info" : "btn-default")"><span class="glyphicon @(Model.Star ? "glyphicon-star" : "glyphicon-star-empty")"></span> </a>
                </div>
            }
        }
    </div>
</td>